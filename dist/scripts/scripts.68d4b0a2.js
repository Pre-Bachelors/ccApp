"use strict";angular.module("ccApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","rzModule"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("ccApp").factory("Quiz",["$http",function(a){var b={},c={decodeHtml:function(a){var b=document.createElement("textarea");return b.innerHTML=a,b.value}};return b.entries=[{subject:"Maths",value:0,equiv:"requiresQuantitativeSkills"},{subject:"Writing and Speaking",value:0,equiv:"requiresVerbalAndSocialSkills"},{subject:"Competitive",value:0,equiv:"easeOfCompetition"},{subject:"Uncertain",value:0,equiv:"optionValue"}],a.get("scripts/json/career_profiles.json").then(function(a){b.careers=a.data,b.careers.forEach(function(a){a.title=c.decodeHtml(a.title),a.custom_fields.easeOfCompetition=6-a.custom_fields.easeOfCompetition,a.thumbnail_url=c.decodeHtml(a.featured_image.attachment_meta.sizes.thumbnail.url),a.custom_fields.summaryHtml=c.decodeHtml(a.custom_fields.summaryHtml)}),b.receivedFlag=!0},function(){alert("error!")}),b.careerSuitable=function(a,b){return b>3||3==b&&5>a||3>b&&4>a},b.updateCareers=function(a){b.careers.forEach(function(a){a.show=!0}),a.forEach(function(a){b.careers?b.careers.forEach(function(c){if(c.show){var d=parseInt(c.custom_fields[a.equiv]),e=a.value+1;c.show=b.careerSuitable(d,e)}}):console.log("no careers")})},b}]),angular.module("ccApp").controller("MainCtrl",["$scope","Quiz",function(a,b){a.entries=b.entries,a.careers=b.careers,a.sliderConfig={ceil:5,floor:1,hideLimitLabels:!0,stepsArray:["Not comfortable","Hardly comfortable","Somewhat comfortable","Comfortable","Very comfortable"],onChange:function(){console.log("on change"),b.careers&&(b.updateCareers(a.entries),a.careers=[],b.careers.forEach(function(b){b.show&&a.careers.push(b)}),a.careers=_.sortBy(a.careers,function(a){return 0-a.custom_fields.careerCapital}))}}}]),angular.module("appApp").run(["$templateCache",function(a){a.put("views/main.html",'<div> <h2>How comfortable are you with:</h2> <article ng-repeat="entry in entries"> <h3>{{entry.subject}}</h3> <rzslider rz-slider-model="entry.value" rz-slider-options="sliderConfig"></rzslider> </article> <div id="results"> <hr> <article ng-repeat="career in careers"> <h2>{{career.title}} </h2> <img src="{{career.thumbnail_url}}"> <p ng-bind-html="career.custom_fields.summaryHtml"></p> <p><strong>Key facts on fit: </strong></p><p ng-bind-html="career.custom_fields.keyFactsOnFit"></p> <div style="clear: both"></div> </article> </div> </div>')}]);